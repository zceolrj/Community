<div class="scrollable page card_list search_result">
  <div class="scrollable-content">
    
    <div class="header common_header">
      <a href="javascript:history.back();">
        <div class="back">
          <div class="back_arrow"></div>
          <div>返回</div>
        </div>
      </a>
      <div class="title">{{typeName}}</div>
    </div>
    
    <div class="list_filter_wrap">
      <div class="list_filter" ui-state="listFilterIndex">
        <div class="list_filter_category" ng-click="filterToggle(1)" ui-class="{'selected':listFilterIndex == 1 && listFilter}">
          <div class="name" ng-bind="currentDistrict.districtName || currentDistrict.communityName || '商区'"></div>
          <i class="fa fa-caret-down" ></i>
        </div>
        <div class="list_filter_category"  ng-click="filterToggle(2)" ui-class="{'selected':listFilterIndex == 2 && listFilter}">
          <div class="name" ng-bind="currentSmallType.small_name || '行业'"></div>
          <i class="fa fa-caret-down"></i>
        </div>
        <div class="list_filter_category"  ng-click="filterToggle(3)" ui-class="{'selected':listFilterIndex == 3 && listFilter}">
          <div class="name">排序</div>
          <i class="fa fa-caret-down"></i>
        </div>
      </div>
      <div class="drop_down_group" ui-state="listFilter" ui-show="listFilter && listFilterIndex == 1">
        <div class="side_list_tab">
          <ui-state id="sideTab1" default="1"></ui-state>
          <ul class="tabs">
            <li class="tab tab_left selected" ui-set="{'sideTab1': 1}" ui-class="{'selected': sideTab1==1}">附近</li>
            <li class="tab tab_left" ui-set="{'sideTab1': 2}" ui-class="{'selected': sideTab1==2}">热门商区</li>
            <li class="tab tab_left" ui-set="{'sideTab1': 3}" ui-class="{'selected': sideTab1==3}">海淀区</li>
          </ul>
          <div class="tab_contents">
            <ul class="filter_choices" ui-if="sideTab1 == 1">
              <li>1000米</li>
              <li>3000米</li>
              <li>5000米</li>
            </ul>
            <ul class="filter_choices" ui-if="sideTab1 == 2">
              <li 
                ng-repeat="city in hotCitys"
                ng-click = "filterByDistrict(city)">{{::city.communityName}}</li>
            </ul>
            <ul class="filter_choices" ui-if="sideTab1 == 3">
              <li 
                ng-repeat="city in citys"
                ng-click = "filterByDistrict(city)">{{::city.districtName}}</li>
            </ul>
          </div> <!-- end of tab contents -->
        </div> <!-- end of side list tab -->
        <div class="mask modal" ui-if="listFilter && listFilterIndex == 1" ng-click="filterToggle(0)" ></div>
      </div> <!-- end of drop down group -->

      <div class="drop_down_group" ui-state="listFilter" ui-show="listFilter  && listFilterIndex == 2">
        <div class="side_list_tab">
          <ui-state id="sideTab2" default="1"></ui-state>
          <ul class="tabs">
            <li class="tab tab_left"  
              ng-class="{'selected': currentType==types}"
              ng-click="selectType(types)"
              ng-repeat="types in allTypes">{{::types.big_name}}</li>
          </ul>
          <div class="tab_contents">
            <ul class="filter_choices" 
              ng-show="currentType==types"
              ng-repeat="types in allTypes">
              <li ng-repeat="type in types.small_industry_list"
                ng-click="filterByType(type)">{{::type.small_name}}</li>
            </ul>
          </div> <!-- end of tab contents -->
        </div> <!-- end of side list tab -->
        <div class="mask modal" ui-if="listFilter && listFilterIndex == 2" ng-click="filterToggle(0)" ></div>
      </div> <!-- end of drop down group -->

      <div class="drop_down_group" ui-state="listFilter" ui-show="listFilter && listFilterIndex == 3">
       <div class="side_list_tab">
          <ui-state id="sideTab3" default="1"></ui-state>
          <div class="tab_contents sort_content">
            <ul class="filter_choices " ui-if="sideTab3 == 1">
              <li>星级最高</li>
              <li>人均最低</li>
              <li>人均最高</li>
              <li>评价最好</li>
              <li>口味最佳</li>
             
            </ul>
          </div> <!-- end of tab contents -->
        </div> <!-- end of side list tab -->
        <div class="mask modal" ui-if="listFilter && listFilterIndex == 3" ng-click="filterToggle(0)" ></div>
      </div> <!-- end of drop down group -->
    </div>

    <ul class="thumb_list card_list">
      <li ng-repeat="cardOffer in cardOfferList">
        <a href="#/discount/card_offer" class="clearfix">
          <img class="left" ng-src="{{cardOffer.image_url}}">
          <div class="right indicator">
            <div class="top large">{{::cardOffer.title}}</div>
            <div class="middle none"></div>
            <div class="bottom small gray"><span>适用商户（</span><span class="red">{{::cardOffer.count}}家</span><span>）</span></div>
          </div>
        </a>
      </li>
    </ul>
  
  </div>
</div>